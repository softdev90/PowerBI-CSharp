@model MvcApp.Models.TileEmbedViewModel
<div>
    <h2>@Model.Tile.Title</h2>
    @Html.PowerBIAccessToken()
    @Html.PowerBITileFor(m => m.Tile, new { @class = "big-tile" })
    <div class="message"></div>
</div>

@section scripts {
    <script>
        $(function () {
            var start = new Date();

            // Example binding to the tile click event
            $('[powerbi-tile').on('embed-init', function (e) {
                var message = e.currentTarget.parentElement.querySelector('.message');
                if (message) {
                    message.innerHTML = 'Loading...';
                }
            });

            $('[powerbi-tile]').on('tile-click', function (e) {
                window.open(e.detail.navigationUrl, '_blank');
            });

            // Example binding to the tile load event
            $('[powerbi-tile]').on('tile-load', function (e) {
                var now = new Date();
                var elasped = now - start;

                var message = e.currentTarget.parentElement.querySelector('.message');
                if (message) {
                    message.innerHTML = 'Loaded (' + (elasped / 1000) + ' seconds)';
                }
            });
        });
    </script>
}